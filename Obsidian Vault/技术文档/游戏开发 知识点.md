---
tags:
  - reference
  - game_dev
---
> [!hint] 游戏的CS同步类型
> - 帧同步：务器只负责转发数据，不做任何处理，由客户端根据服务端发来的数据做战斗逻辑运算。
> 	- 优点
> 		1. 流量消耗小
> 		2. 可以离线游戏
> 		3. 服务端保存操作可以轻松实现回放，观战功能
> 		4. 开发效率较高（服务器基本不需要变化，容易复用）
> 	- 缺点
> 		1. 安全性差
> 		2. 断线重连需要追回时间
> - 状态同步：服务器负责战斗逻辑计算，并将计算的结果发给各个服务器，每个客户端实际上相当于一个表现层。
> 	- 优点
> 	  1. 安全性高
> 	  2. 可以很容易的实现断线重连(重新生成场景即可)
> 	- 缺点
> 	  1. 流量消耗大
> 	  2. 不能离线游戏
> 	  3. 服务端需要保存大量数据方能实现回放|观战
> 	  4. 开发效率相对较低(实现功能需要和客户端交流，会耽误时间)

> [!hint] 游戏协议的设计要点
> 1. 协议本身要是明确的，没有依赖的，一个协议只做一件事。
> 2. 协议刷新数据层，界面层监听数据层获得数据的变化，不要协议直接修改界面，界面不一定一直存在，也不方便别人扩展。
> 3. 信号最好带足够的参数，不要让使用者再额外获取。
> 4. 触发信号刷新页面时，保持足够低的粒度，不要一次性刷新全部内容。
> 5. 模型层要和界面层解耦，即模型层设计的时候先当界面层不存在，不要因为界面的需求而设计信号。

---
tags:
  - reference
  - csharp
---
# 可访问性定义

- **public**：访问不受限制
- **private**：访问仅限于此类
- **protected**：访问仅限于此类和其派生类
- **internal**：访问仅限于当前程序集
- **protected internal**：等价于**protected**或**internal**，满足任一条件即可访问
- **private protected**：等价于**protected**和**internal**，必须同时满足两个条件才能访问

![[C Sharp 知识点 2023-10-30 14.38.46.excalidraw]]

# 格式化字符串

> [!summary] 标准数字格式说明符

| 名称       | 字符 | 格式                                | 例子          |
| ---------- | ---- | ----------------------------------- | ------------- |
| 货币       | C,c  | {C/c{精度}(小数位数)}               | `{price:C5}`  |
| 数字       | D,d  | {D/d{精度}(补0位数)}，带负号        | `{number:d5`  |
| 浮点数     | F,f  | {F/f{精度}(小数位数)}，带负号       | `{number:f5`  |
| 十六进制   | X,x  | {X/x{精度}(补0位数)}，X/x代表大小写 | `{number:X3}` |
| 数字       | N,n  | {N/n{精度}(小数位数)}，会加入`,`    | `{number:N5}` |
| 百分比     | P,p  | {P/p{精度}(小数位数)}，默认两位     | `{number:p5}` |
| 科学计数法 | E,e  | {E/e{精度}(小数位数)}               | `{number:e5}`              |

> [!summary] 对齐格式说明符
> 一般格式为：`{{变量}, [+/-]{字符对其长度}: {格式说明符}}`
> > [!example]
> > `{number, -5:D3}`，对齐5位，负数表示左对齐，如果数字超过5位则无效。

> [!summary] 内插字符串转义
> - 以`@`加在字符串开头时，字符串内的字符不会进行转义。
> - 以`@$`开头的字符串如果要包含`{`，`}`，需要使用`{{`或`}}`。

> [!summary] 内插字符串使用三元运算符
> 由于`:`在内插里有特殊含义，因此需要放到括号里。
> > [!example]
> > `$"{(value < 0.5 ? "smaller than 0.5": "greater than 0.5")}"`

# 接口的显式定义

显式定义指的是实现接口时，在前面加上接口的名称：
```csharp
interface IA
{
	void Func();
}

class A : IA
{
	void IA.Func() {}
}
```

一旦使用这种方式定义，那么只能通过接口类型来调用这个方法，换言之如果你有一个A的实例，你必须要将它转型为IA，才能使用这个接口。

显式定义主要用来：
- 处理多接口的重名问题；
- 实现[[什么是面向对象#接口分离原则|接口分离]]，把不属于这个类的接口显式实现；
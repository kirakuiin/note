---
tags:
  - reference
---
面向对象由一系列原则构成，只要在实践中满足了这些原则，就可以说是以面向对象的思维进行编程。下面按照基本特性和设计原则两个方面来分别进行解释。

# 基本特性

面向对象的四项基本特性为：

- 抽象：将实体的相关特性和交互建模为类，以定义系统的抽象表示。
- 封装：隐藏对象的内部状态和功能，并仅允许通过一组公共函数进行访问。
- 继承：根据现有的抽象创建新抽象的能力。
- 多态：跨多个抽象以不同的方式实现继承而来的属性或方法的能力。

# 设计原则

面向对象的六项设计原则为：

- 开闭原则：软件实体应当对扩展开放，对修改关闭。 ^open-closed
- 单一职责原则：一个类只许有一个职责，即只有一个导致该类变化的原因。 ^single-responsibility-principle
- 依赖倒置原则：
	- 依赖抽象，而不是依赖实现。
	- 抽象不应该依赖细节，细节应该依赖抽象。
	- 高层模块不能依赖底层模块，两者都应该依赖抽象。
- 接口分离原则：多个特定的接口要好过一个通用型的总接口。
- 迪米特法则：一个对象应该只接触那些真正需要的对象。
- 里氏替换原则：所有引用基类的地方必须能透明的使用其子类对象，并且执行结果不变。

## 开闭原则

实现开闭原则的核心思想就是面向抽象编程，用抽象构建框架，用扩展实现细节。

主要优点有：

- 提高了系统的复用性
- 提高可读性和可维护性。
- 提高了系统的灵活性。

> [!hint]
> 开闭并不代表着不进行任何修改。高层代码必然会耦合着一部分底层代码，底层的变更必然会导致高层的部分变动。开闭只是让改动尽可能变小。

## 单一职责原则

如果一个类有多个导致其变化的原因，那么就应该将其拆分为多个类，直到每个类只有一个职责。这个原则也可以引申到方法上，即方法功能也要单一，只一件事情。

主要优点有：

- 降低类的复杂度。
- 提高可读性和可维护性。
- 降低修改程序引起的风险。

## 依赖倒置原则

简单来说，就是对接口编程，而不是对实现编程。所以在传递参数和各种关联关系中，尽量使用抽象类或者接口。

主要优点有：

- 降低类之间的耦合。
- 提高可读性和可维护性。
- 降低修改程序引起的风险。


> [!example] 倒置
> ![[什么是面向对象 2023-10-31 20.54.37.excalidraw]]

## 接口分离原则

这里也可以说是最小接口依赖原则，如果实现了某个接口，但其中存在不需要的方法，那么这时就是不符合最小依赖的定义的，这时需要将这个接口拆分，使得接口里全部的方法都是你所需要的。

主要优点有：

- 降低类之间的耦合。
- 提高系统的内聚性。
- 提高可读性和可维护性。

## 迪米特法则

有一个简单的定义：**不要和陌生人说话，只和直接的朋友通信**。所谓的**朋友**是指出现在*成员变量，方法的输入和输出*的类型，**陌生人**是指出现在方法体内部的类型。

遵循此法则的主要优点有：

- 降低类之间的耦合。
- 提高类的可复用性和系统的扩展性。

> [!example] “朋友”和“陌生人”
> ```python
> class Example(object):
> 	def __init__(self):
> 		self._A = A()
> 
> 	def Foo(self, b: B):
> 		self._A.Foo() # 朋友
> 		b.Foo() # 朋友
> 		c = C() # 陌生人
> 		return D.Foo() # 朋友
> ```

## 里氏替换原则

简单来说，如果父类提供了一个功能，那么子类一定要正确的实现，而不能没有或者改成其他功能。这样才能完成替换。

主要优点有：

- 解决了继承中重写导致的可复用行变差的问题。
- 加强了程序的健壮性。扩展子类时不会导致已有功能遭到破坏。
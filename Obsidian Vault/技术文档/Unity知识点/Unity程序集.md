---
unity_type:
  - 编辑器
tags:
  - reference
---

程序集是Unity中用于组织代码的手段，通过将不同模块的代码分别放置到各个程序集中，可以有效增加代码的编译速度，减少依赖性。

默认情况下Unity将所有脚本编译到*预定义程序集*中，也就是`Assembly-CSharp.dll`，这种模式的主要问题在于每当你修改任意一个文件，整个程序集就要重新编译，非常浪费时间。

![[Unity程序集 2024-08-14 13.54.55.excalidraw]]

对于上面这种划分，UI程序集只有当自身修改时才会重新编译。Library程序集只有当自身和ThirdParty修改时才会重新编译。

# 程序集的引用结构

![[Unity程序集 2024-08-14 14.01.18.excalidraw]]

- *预定义程序集*默认会依赖所有的*定义程序集*，如果想要去掉这种依赖，需要在*定义程序集*中不要勾选`Auto Referenced`选项。
- *定义程序集*通过`Assembly Definition References`列表来设置同其他*定义程序集*的依赖关系。
- *预定义程序集*和*定义程序集*都会自动依赖全部的*预编译程序集*，如果想要去掉这种依赖，则需要在选项中勾选`Override References`，并且在`Assembly References`列表中勾选需要的*预编译程序集*。

> [!hint]
> 要么完全不使用*定义程序集*，要么所有的代码都使用*定义程序集*。因为如果部分使用的话，当*定义程序集*重新编译时，未使用部分也会跟着编译，这样就弱化了程序集存在的意义。
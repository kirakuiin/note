---
tags:
  - reference
  - csharp
---
C#使用通用类型系统。所有的类型都最终继承自**System.Object**。共有两个大类，值类型和引用类型。

# 值类型

值类型继承自**System.ValueType**，值类型不会分配到堆里，而会內联分配，因此不会有垃圾回收的开销。所有的值都不能继承其他类型，但可以实现接口。值类型主要有以下两种：

- struct
	一般用于存储一小组相关的变量。一个结构体的经典定义如下所示：

	```csharp
	public struct Coords
	{
		public int x, y;
	
		public Coords(int p1, int p2)
		{
			x = p1;
			y = p2;
		}
	}
	```

- enum
一般用于存储常量，用于代码里会使得代码增加可读性和可修改性。 一个枚举的经典定义如下所示：

```csharp
public enum FileMode
k{
	CreateNew = 1,
	Create = 2,
	Open = 3,
}
```


# 引用类型

引用类型完全支持继承，创建时会在堆上分配内存，具有默认值**null**，变量只保留引用。**class，record，delegate，interface，string，array**都是引用类型。引用类型一般通过**new**来创建。

还有几种引用类型比较特殊：
- 泛型类型：具有`List<string>`类似的结构，尖角括号里指明了列表里全部元素的类型。
- 隐式类型：使用**var**关键字定义的类型，其类型是由编译器提供的。
- 可为**null**的值类型：普通值类型不可为**null**，可以在类型后追加`?`使其可为**null**，比如`int? a`。
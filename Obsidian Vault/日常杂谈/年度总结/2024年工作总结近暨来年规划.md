```table-of-contents
```
# 做了什么

从9月份入职到现在，主要完成的制作工单有：
## 精灵问答接口内容优化

是入职以后第一个制作单，主要的内容是梦幻精灵的数据供应方要调整客服数据的传输格式，换成一种更通用的数据格式。因为旧的格式已经有现成的逻辑将其转化为富文本进行显示。所以我这边的采用的方案就是做一层适配，将新数据格式转化为旧数据格式，在传回到旧的转化接口中。

这个工单实现上没什么难度，不过由于是第一个单子，并且是和其他部门合作的原因，一开始看了工单一天也没看明白客户端要做什么，最后还是拉群和数据提供方那边仔细咨询了一下才知道要做什么。
## 新年元旦活动

是一个比较庞大的单子，主要分成四个部分：
- 环任务
- 烟火秀战斗
- 祈愿UI
- 年度回顾UI

对于客户端来说这四个部分基本上是毫无联系的，可以理解为四个子单。
### 环任务

这里就是给自动战斗小窗扩展一下元旦的环状态。这里有现成的逻辑，直接扩展即可。
### 烟火秀

这里需要支持一些新的引擎对象显示，并且这部分也涉及到了战斗指令的执行。这里是一个小的难点，花了一些时间了解这部分的基础知识。
### 祈愿UI

这里是个单纯的UI制作单，没有卡点但是细节很多。这里的分享相关功能单独抽象了出来和下面的年度回顾共用。
### 年度回顾UI

也是个UI制作单，不过这里稍微复杂一些，需要根据服务端的数据灵活的调整文本的显示，而且内容很多。此外这里的UI界面过渡都做成了书页翻页的形式，特效表现很复杂。这里花了比较多的时间来实现这些功能。
## 新春麻将

这个工单由其他同学主导，我只负责其中的一部分，这部分是：
- 局内气泡
- 多分辨率支持
- 窗口位置支持
- 局内自动战斗小窗
- 局内缩略小窗

这个工单最复杂的地方就是窗口外置+多分辨率，局内界面由锚点来实现多分辨率适配，但是策划又不希望局内界面的分辨率跟着主界面的分辨率变化，因此创建了一个空的根节点来阻断。如图：

mahjong -> fakeRoot -> game.Panel

fakeRoot监听分辨率切换的事件来调整自身的size_delta，从而影响局内界面的分辨率。通过加一层间接层，可以在分辨率切换这里增加很多处理逻辑。
对于一些局内的独立子界面目前也是根据外置状态来动态调整他们的父节点，以便让它们可以一同外置。

第二个比较复杂的地方就是局内的自动战斗小窗，这里和很多逻辑耦合，比如自动战斗，比如buff，比如人物状态。目前这里的实现方案是增加了几个新的事件来处理这些耦合。

## 自动战斗小窗口

这个工单需求也不复杂，就是给pc上的自动战斗窗口增加一个缩略按钮，让其可以变为一个更加简洁的小窗口，两个窗口之间就像硬币的正反面，数据，位置同步，但是不能同时出现。

这里逻辑不复杂，就是两个界面切换显隐的窗口同步一下另一个窗口的位置，但是由于自动战斗这个地方很多地方在调用，导致在实现的时候没有完全覆盖，导致有些玩法小窗的显示是有问题的。
## 内部PK赛

这个工单客户端的内容很少，只是增加一个强制对面队伍必选某个门派的界面，加上和服务端的联调也很迅速，整体没有难度，很快就做完了。
# 学习相关

## 社招培训课程学习

主要学习了：
- 公司相关的通识
- 安全，保密，法务等知识
- AI工具用法
- 公司的技术概览
- git，svn等工具的用法
## Python3培训

主要学习了：
- python3和python2的对比
- python3虚拟机和优化方案
- python3的profile
- python3的新特性，新功能
# 来年规划

1. 继续在工单的制作中逐步学习梦幻的模块。
2. 能有余裕来完成一些抢单任务。
3. 能够制作一些更有意思的功能。
4. 继续提炼一些通用功能，让其他人也能避免重复造轮子。
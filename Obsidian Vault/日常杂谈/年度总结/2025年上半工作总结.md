
```table-of-contents
```

# 总述

上半年的工作总的来说可以分为以下四种类型：
- 各种维护单，以及一些固定周期的工作。（比如值日，值周等）
- 对一些老玩法的迭代。（比如三界菁英moba3.0，勋章系统）
- 全新玩法的制作。（比如单人地宫的几个子系统）
- 战斗系统相关的开发。（比如巅峰赛，封神之战，门派调整等）

# 工作结果

## 工作成果

这里说明一下几个比较重要的工作内容。
### 三界菁英moba3.0

这个单子的内容比较多，我主要负责实现其中新增的几个子系统以及一些整体性的内容调整。
- 导表迁移：将2.0的导表升级为新格式的3.0导表。
- 刻印和专属经脉：制作两个新增的子界面。
- 主界面的迭代：新增任务面板，角色锦衣展示面板。
- 引导系统迭代：由于新增了不少玩法，引导系统也同步迭代。

这其中比较复杂的地方在于导表迁移。主要由于以下几点导致其比较困难：
1. 旧导表是采用py手工导表的，而新导表需要用jinja来导出，由于旧表存在大量特殊的处理，导致迁移过程比较复杂。
2. 旧导表和新导表在大量字段上产生了含义上的区别，而旧导表还被数十个文件引用，导致兼容非常复杂。
3. 这数十个文件中有很多文件还是废弃的（比如19年版本的，20年版本的，等等），并且文件之间存在大量的交叉引用，给迭代后测试增加了不少难度。

最后的解决方案是：
1. 首先用一个函数来封装对导表的直接访问，其他地方改为调用函数。
2. 修改所有使用导表数据的位置，将其改为对函数的调用。
3. 实机运行，尽量覆盖到所有修改的位置，确认一下修改的结果。
4. 如果还有覆盖不到的，请求老前辈的支援来确认下。
5. 最后删除掉所有无效的代码，降低后续的维护难度。

### 勋章系统新增见闻勋章

这个制作本身并不复杂，就是常规的页面迭代，功能添加。不过这个工单制作时花了不少时间，主要是两个难点：
1. 勋章的每个尺寸，动画，对应的彩饰都有单独的资源，最后这个工单大改添加了500+的新增资源，其中很多都需要手工调整key点来校正效果。
2. 策划给勋章新增了一个持续时间的概念。这个概念只能由服务端来存储，而有八个协议以及十多个界面需要适配新增的数据，导致修改非常容易出现遗漏和错误。

最后的解决方案是：
1. 编写脚本进行批处理，虽然没法完全解决问题，但至少减少了60%的工作量。
2. 全局搜索，对所有涉及到的地方进行修改时，对输入的数据源进行严格的验证，保证不抛出异常，即便数据不对也不要导致流程中断。

### 单人地宫

### 4月门派调整

### 封神之战ai战斗

### 技能信息优化
## 反思和不足

## 规划完成情况

# 学习和分享

# 下半年规划
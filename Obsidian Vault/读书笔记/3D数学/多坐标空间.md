---
tags:
  - reference
---
之所以不用同一个坐标系表达所有的位置，是因为有些点的信息只有在特定的参考系中才能被定义，所以对于这一点我们不知道它在世界坐标的位置，但可以通过相较于其他坐标系的坐标来表达。

# 常用坐标系

## 世界坐标系

广义上的世界坐标系是指为其他的所有坐标系建立一个全局的参考系，换句话说，我们可以根据世界坐标系来表达其他坐标系的位置，但没法用更大的坐标系来表达世界坐标系。
## 对象坐标系

每一个对象都含有独立的对象坐标系，当对象移动或改变朝向时，所有属于对象坐标系的对象都会一起移动或改变朝向。
## 相机坐标系

一个比较重要的对象坐标系就是相机坐标系，它是渲染时和视角相关的空间。相机位于原点。

![[camera_space.png]]

# 空间变换

当进行坐标空间变换时，有两种视角：
- 主动变换范式：视角固定于坐标空间，矢量和物体随着坐标空间的变化而移动。
- 被动变换范式：视角固定于待变换的物体，变换测量坐标的坐标空间。

![[coordinate_transformation.png]]

而进行空间变换的第一步是如何表达一个坐标空间。最直接的方式就是指定原点和坐标轴，原点是定义坐标空间中心的点，坐标轴是向量，描述了坐标空间的方向。其中原点和坐标轴都是相对于另一个坐标空间的。

> [!hint]
> 参考[[理解变换的两个角度]]

## 基向量

当世界空间和局部空间的原点一致时，对于对局部空间的一点$\textbf{b} = (b_x, b_y)$，假设这一点世界坐标$\textbf{w} = (w_x, w_y)$，局部坐标空间的两个**线性无关**[^1]坐标轴(用世界空间表示)分别为$\textbf{p}$，$\textbf{q}$。那么：

$$
\textbf{w} = b_x\textbf{p} + b_y\textbf{q}
$$

此时$\textbf{p}$，$\textbf{q}$就是局部坐标空间的**基向量**[^2]。

> [!summary] 世界坐标系的基向量
> 对于世界坐标系的基向量$\textbf{p}$，$\textbf{q}$，$\textbf{r}$，因为无法引入另一个坐标系来表达世界坐标系，所以规定为$[1, 0, 0]$，$[0, 1, 0]$，$[0, 0, 1]$。

任意坐标系下的向量的数字坐标，是基向量的线性组合的展开系数，$\textbf{v} = x\textbf{p} + y\textbf{q} + z\textbf{r}$。当基坐标相互垂直时，坐标是不耦合的，此时向量的数字组标可以分别根据对应的基向量单独求出。

$$
\begin{align}
v_x &= \textbf{v}\cdot\hat{\textbf{p}} \\
v_y &= \textbf{v}\cdot\hat{\textbf{q}} \\
v_z &= \textbf{v}\cdot\hat{\textbf{r}} \\
\end{align}
$$

我们把这样的基向量称之为**正交基**，如果它们的长度1，那么就称为**标准正交基**。

> [!hint]
> 在**标准正交基**里，每个向量的坐标分量都可以表示为在对应基向量方向上的位移。

# 嵌套坐标空间

很多时候对象之间是有层次结构的，每个对象都有一个独立的对象空间，所有对象构成了一个嵌套坐标空间。

以一个自行车举例，自行车的轮子中心位于自行车的空间内，它的位置是固定的，而车轮上的打气孔则位于轮子中心所构成的坐标空间内，围绕轮子中心做圆周运动。

[^1]: 任意一个向量无法表达为其他向量的线性组合。
[^2]:  一个坐标系的基向量坐标就是根据另一个参考系来进行测量的。所以基向量和坐标空间的转换密切相关。
---
tags:
  - reference
aliases:
  - Move Field
refactor_type: 在对象之间搬移特性
---
> [!summary] 概要
> 在你的代码中，某个字段被其所驻类之外的另一个类更多地用到。再目标类建立一个新字段，修改原字段的所有用户，令他们改用新字段。

> [!summary] 动机
> 如果一个字段被所驻类之外的另一个类的函数更多次的使用了，就应该考虑搬移这个字段。使用的方式可能是调用取值/设值函数。

> [!summary] 做法
> 1. 如果字段是公开的，使用[[封装字段|Encapsulate Field]]将其封装。
> 	- 如果有许多函数访问这个字段，先用[[自封装字段|Self Encapsulate Field]]。这样修改引用时会方便很多。
> 2. 测试。
> 3. 在目标类中中建立相同的字段，并同时建立取值/设值函数。
> 4. 决定如何在原对象中引用目标对象。
> 5. 删除原字段。
> 6. 将所有对原字段的引用替换为对目标取值/设值函数的调用。
> 	- 如果原字段不是私有的，也需要在子类内检查引用，进行相应的替换。

> [!example] 范例
> ![[搬移字段 2023-12-15 15.29.10.excalidraw]]

> [!ref] 相关概念
> - [[什么是面向对象#^single-responsibility-principle|单一职责]]

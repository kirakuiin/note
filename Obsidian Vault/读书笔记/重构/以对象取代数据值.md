---
tags:
  - reference
aliases:
  - Replace Data Value with Object
refactor_type: 重新组织数据
---
> [!summary] 概要
> 你有一个数据项，需要与其他数据和行为一起使用才有意义。所以将数据项变为对象。

> [!summary] 动机
> 在开发的初期你使用简单的数据来表达数据项，随着开发的进行你会发现数据项越来越复杂，此时[[📚大纲（重构）#^Duplicated-code|重复代码]]和[[📚大纲（重构）#^Feature-Envy|依恋情节]]开始出现。此时你需要进行重构。

> [!summary] 做法
> 1. 为待替换数值新建一个类，其中各个字段的类型和带替换数值类型一致。
> 2. 将原类中待替换数值项替换为新类对象。
> 3. 修改原类中待替换字段的取值函数，替换为新类的取值函数。
> 4. 修改原类中待替换字段的设值函数，替换为创建新类。
> 5. 你可能需要对新类使用[[将值对象改为引用对象|Change Value to Reference]]。

> [!example] 范例
> ![[以对象取代数据值 2024-01-03 13.51.40.excalidraw]]
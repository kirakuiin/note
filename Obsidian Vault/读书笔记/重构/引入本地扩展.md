---
tags:
  - reference
aliases:
  - Introduce Local Extension
refactor_type: 在对象之间搬移特性
---
> [!summary] 概要
> 你需要为服务类提供一些额外函数，但你无法修改这个类。你可以建立一个新类，使它包含这些额外函数。让这个扩展品成为服务类的子类或者包装类。

> [!summary] 动机
> 如果你发现自己为一个服务类增加了超过一个的外加函数，此时就需要将函数组织到一起，放到一个恰当的地方。
> 如果原服务对象不可变，并且可以你可以控制服务类对象的创建。那么首先考虑子类化，否则考虑使用包装类。

> [!summary] 做法
> 1. 建立一个扩展类，将它作为原类的子类或者包装类。
> 2. 在扩展类中加入转型构造函数。(转型构造函数是指接受原类作为参数的构造函数)
> 3. 在扩展类中加入新特性。
> 4. 根据需要将使用原对象的位置替换为新对象。
> 5. 将针对原类所有的外加函数移动到扩展类中。

> [!example] 范例
> ![[引入本地扩展 2024-01-13 23.55.52.excalidraw]]

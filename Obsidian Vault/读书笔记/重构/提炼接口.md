---
tags:
  - reference
aliases:
  - Extract Interface
refactor_type: 处理概括关系
---
> [!summary] 概要
> 若干客户使用类接口中的同一子集，或者两个类的部分方法有部分相同。可以将相同的自己提炼到独立的接口。

> [!summary] 动机
> 类之间相互使用的方式有很多种，有时只需要类的某部分功能。此时将这部分单独的责任分离出来很有意义，它让系统更加清晰，也使得扩展时更容易明确需要支持哪些功能。
> 
> 一般某个类在不同的环境下扮演截然不同的角色，或者你想要描述一个类的外部依赖接口。此时非常适合使用接口。

> [!summary] 做法
> 1. 新建一个空接口。
> 2. 在接口中声明待提炼类的共通操作。
> 3. 让相关类实现上述接口。
> 4. 调整客户端的类型声明。

> [!example] 范例
> ![[提炼接口 2023-12-27 13.10.17.excalidraw]]

> [!hint] 类似手法
> 和[[提炼超类|Extract Superclass]]有些相似之处。但此手法只能提炼共通接口，而不能提炼代码，这可能会导致[[📚大纲（重构）#^Duplicated-code|重复代码]]，幸运的是可以用[[提炼类|Extract Class]]将共通的行为放进一个组件，然后将工作委托给该组件。
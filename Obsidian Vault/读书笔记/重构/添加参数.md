---
tags:
  - reference
aliases:
  - Add Parameter
refactor_type: 简化函数调用
---
> [!summary] 概要
> 某个函数需要从调用端的到更多信息。为此函数添加一个对象参数，让该参数携带函数所需要的信息。

> [!summary] 动机
> 你必须修改一个函数，而修改后的函数需要一些过去没有的信息。
> > [!warning]
> > 在添加参数之前考虑有没有更好的方式，过长的参数列表总是不好的。比如是否可以通过其他方法获取，或者可以考虑[[引入参数对象|Introduce Parameter Object]]。

> [!summary] 做法
> 1. 检查函数签名是否被子类或超类实现。如果有的话，下面的步骤在所有类型上都要实施。
> 2. 声明一个新函数，名称和原函数相同，带上新增参数，将旧代码复制到新函数中。
> 3. 修改旧函数，令其调用新函数。
> 4. 测试。
> 5. 找出旧函数的所有引用点，将其改为对新函数的调用，并加上合适的参数。
> 6. 删除旧函数。

> [!example] 范例
> 重构前：
> ```python
> def Method():
> 	pass
> ```
> 重构后：
> ```python
> def Method(parameter):
> 	pass
> ```
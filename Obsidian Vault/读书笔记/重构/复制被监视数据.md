---
tags:
  - reference
aliases:
  - Duplicate Observed Data
refactor_type: 重新组织数据
---
> [!summary] 概要
> 你有一些数据置身于**GUI**控件中，而有些函数需要访问这些数据。你可以将数据复制到一个对象中，建立一个[[读书笔记/设计模式/观察者模式|观察者模式]]，用以同步对象和**GUI**。

> [!summary] 动机
> 一个分层良好的系统，应该将用户界面和业务逻辑分离。主要是因为亮点：
> - 你可能需要多个界面表现相同的数据。
> - 分离后两端的维护和演化会更加容易。

> [!summary] 做法
> 1. 修改**GUI**类，将其改为某个模型的观察者。
> 2. 针对**GUI**类中的数据，使用[[自封装字段|Self Encapsulate Field]]。
> 3. 在事件处理函数内调用设值函数来更新**GUI**。
> 4. 测试。
> 5. 在模型类中定义数据及其相关访问函数。
> 6. 修改**GUI**访问数据函数，将它们的操作对象改为模型对象。
> 7. 处理的观察者的**Update()**，使得数据得以从模型层复制到视图。
> 8. 测试。

> [!example] 范例
> ![[复制被监视数据 2023-12-28 14.25.37.excalidraw]]
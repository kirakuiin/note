---
tags:
  - reference
design_pattern: Factory Method
cetegory: 创建型模式
---
> [!summary] 意图
> 定义一个用于创建对象的接口，让子类决定实例化哪个类。

> [!summary] 适用性
> 在以下情况下可以使用：
> - 当一个类不知道它所必须创造的类的时候。
> - 当一个希望由它的子类来指定创建对象的时候。
> - 当类将创建对象的职责委托给多个子类中的一个，并且你希望将哪一个子类是代理者这一信息隐藏的时候。

> [!summary] 结构图
> ![[工厂方法模式 2023-11-07 10.47.37.excalidraw]]
> 用户通过创建不同的`ConcreteCreator`来得到不同的产品。

> [!summary] 效果
> 1. 工厂方法不再将与应用相关的类绑定到你的代码中。
> 2. 方便子类挂钩。比如说你在一个函数里预定义好了一系列操作，其中有一个步骤调用了工厂方法，子类只要重新实现工厂方法就能影响到这个函数的功能。
> 3. 如果要新增一个`ConcreteProduct`， 就必须新增一个`ConcreteCreator`。

> [!tips] 实现细节
> - `Creator`提不提供默认实现？如果不提供的话，则必须由子类进行实现。如果提供的话，子类按需改变父类实现。
> - 是否使用参数？如果`FactoryMethod(productID)` 支持参数，则可以在工厂方法里根据参数进行灵活的配置。
> - 你所采用的语言是否支持**模板**，如果支持的话就避免了每增加一个产品都要新增一个`ConcreteCreator`的问题。
> - 命名最好符合固定的约定，比如说`DoMakeProduct`。

> [!note] 相关模式
> - [[抽象工厂模式]] 经常用工厂方法来实现。
> - 工厂方法通常在[[模板方法模式]]里被调用。
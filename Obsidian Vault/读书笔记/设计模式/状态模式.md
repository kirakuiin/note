---
tags:
  - reference
design_pattern: State
category: 行为型模式
---
> [!summary] 意图
> 允许一个对象在其内部状态改变时改变它的行为，对象看起来似乎修改了它的类。

> [!summary] 适用性
> 在以下情况下可以使用：
> - 一个对象的行为取决于它的状态，而且他必须在运行时刻根据状态改变它的行为。
> - 一个操作含有庞大的多分支条件语句，且这些分支依赖于该对象的状态。

> [!summary] 结构图
> ![[状态模式 2023-11-25 13.47.44.excalidraw]]
> - `Context`将与状态相关的请求委托给当前的`ConcreteState`处理。
> - `Context`是客户使用的主要接口。
> - `Context`和`ConcreteState`都可以决定哪个状态是另外的后继者。

> [!summary] 效果
> 1. 它将与特定状态相关的行为局部化，并将不同的状态行为分割开来。
> 2. 它使得状态转换显式化。

> [!tips] 实现细节
> - 谁来主导状态的转换。`Context`还是子类决定。
> - 如何创建和销毁状态。按需创建还是提前创建。

> [!note] 相关模式
> [[读书笔记/设计模式/享元模式|享元模式]]解释了如何共享状态。
> 状态通常是用[[读书笔记/设计模式/单例模式|单例模式]]实现的。

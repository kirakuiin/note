---
tags:
  - reference
design_pattern: Singleton
category: 创建型模式
---
> [!summary] 意图
> 保证一个类仅有一个实例，并且提供一个访问它的全局访问点。

> [!summary] 适用性
> 在以下情况下可以使用：
> - 当一个类只能有一个实例而且客户可以从一个众所周知的访问点访问的时候。
> - 当这个唯一实例可以通过子类化扩展，并且客户无需更改代码就能使用实例的时候。

> [!summary] 结构图
> ![[单例模式 2023-11-11 17.20.11.excalidraw]]
> 通过`GetInstance()`获得全局唯一的对象。

> [!summary] 效果
> 1. 提供对唯一实例的受控访问。
> 2. 缩小命名空间。是对全局变量的一种改进

> [!tips] 实现细节
> - 保证实例是唯一的，不同语言有不同的实现方案。
> - 子类的实现方案：
> 	- 直接在`GetInstance()`里设置子类，不够灵活。
> 	- 使用一个注册表包含字符串到子类单例的映射，单例实例提供一个注册功能。

> [!note] 相关模式
> - [[读书笔记/设计模式/原型模式|原型模式]]，[[抽象工厂模式]]，[[生成器模式]]都可以用单例来实现。

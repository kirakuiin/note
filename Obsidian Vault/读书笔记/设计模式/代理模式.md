---
tags:
  - reference
design_pattern: Proxy
category: 结构型模式
---
> [!summary] 意图
> 为对象提供一种代理以控制对这个对象的访问。

> [!summary] 适用性
> 在以下情况下可以使用：
> - 需要一个一个中间对象来控制对原始对象的访问。

> [!summary] 结构图
> ![[代理模式 2023-11-20 14.24.10.excalidraw]]
> 代理根据其种类，在适当的时候向`RealSubject`转发请求。

> [!summary] 效果
> 1. 远程代理：为一个对象在不同的地址空间提供局部代理。
> 2. 虚代理：优化对象创建过程，根据需要创建对象。
> 3. 保护代理：控制对原始对象的访问。
> 4. 智能引用：在访问对象时执行一些附加操作。
> 	- 引用计数
> 	- 锁定对象

> [!tips] 实现细节
> - 代理并不总是需要知道实体的类型，也就是说代理可以不继承`Subject`而是知道一个`Subject`实现的一个接口。

> [!note] 相关模式
> - [[适配器模式]]为他所适配的对象提供了一个不同的接口；而代理模式则提供了相同的接口。
> - [[装饰模式]]为对象添加了新的功能，而代理模式则用来控制对象的访问，并未增加功能。

---
tags:
  - reference
design_pattern: Decorator
category: 结构型模式
---
> [!summary] 意图
> 动态的给一个对象添加一些额外的职责。

> [!summary] 适用性
> 在以下情况下可以使用：
> - 在不影响其他对象的情况下，以动态，透明的方式给单个对象添加功能（注意不是类型）。
> - 处理哪些可以撤销的职责。
> - 在不能采用生成子类的方法进行扩充时。

> [!summary] 结构图
> ![[装饰模式 2023-11-18 13.34.30.excalidraw]]
> `Decorator`将请求转发给它的`Component`对象，并在转发前后执行一些额外的操作。

> [!summary] 效果
> 1. 比静态的继承更加灵活，可以在运行时添加，删除职责。
> 2. 避免层次高的类有太多的特征，可以给一个简单类来不断装饰以丰富其功能。
> 3. 装饰会导致出现很多特殊对象，可能导致查错困难。

> [!tips] 实现细节
> - 装饰器的接口必须和装饰对象一致。
> - 如果只需要添加额外的一个职责时，不需要装饰器。
> - 尽量保持`Component`简单，只定义行为而不要添加数据。

> [!note] 相关模式
> - 装饰仅改变职责，而[[适配器模式]]给对象全新的接口。
> - 可以将装饰视为一个退化的[[组合模式]]，侧重于额外职责而不是对象聚集。
> - 装饰改变外表，[[策略模式]]改变内核。
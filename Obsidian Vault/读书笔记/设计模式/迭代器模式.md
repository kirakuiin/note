---
tags:
  - reference
design_pattern: Iterator
category: 行为型模式
---
> [!summary] 意图
> 提供一种方法来顺序访问一个聚合对象中的各个元素，而又不暴露该对象的内部表示。

> [!summary] 适用性
> 在以下情况下可以使用：
> - 聚合对象需要同时支持多个遍历。
> - 为遍历不同的聚合对象提供一个统一的接口。

> [!summary] 结构图
> ![[迭代器模式 2023-11-23 11.36.36.excalidraw]]
> `ConcreteIterator`跟踪聚合对象中的当前对象，并能够计算出后续的遍历。

> [!summary] 效果
> 1. 支持以不同的方式遍历一个聚合。
> 2. 迭代器简化了聚合的接口。
> 3. 在同一个聚合上可以存在多个遍历，互不干扰。

> [!tips] 实现细节
> - 谁来控制迭代：
> 	- 客户控制：更加灵活，但必须主动推进步伐。
> 	- 内部控制：更加方便，因为内部已经定义好了迭代逻辑。
> - 迭代器是否健壮，插入和删除元素是否会影响迭代。
> - 遍历算法最好不要在聚合本身内定义，这样不易于重用。

> [!note] 相关模式
> - 迭代器常用语[[组合模式]]这样的递归结构上。
> - 多态迭代器靠[[工厂方法模式]]来实例化适当的子类。
> - 迭代器常与[[备忘录模式]]一起使用。
